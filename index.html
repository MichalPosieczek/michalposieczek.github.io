<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TechSolutions Inc.</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="light-mode">
    <!-- Scroll Progress Indicator -->
    <div class="scroll-progress"></div>

    <!-- Navigation Component -->
    <header>
      <nav>
        <div><strong>TechSolutions Inc.</strong></div>
        <div>
          <a href="#services">Services</a>
          <a href="#about">About</a>
          <a href="#team">Our Team</a>
          <a href="#testimonials">Testimonials</a>
          <a href="#projects">Projects</a>
          <a href="#contact">Contact</a>
        </div>
      </nav>
    </header>

    <!-- Hero Section Component -->
    <section class="hero">
      <h1>Innovative Software Solutions</h1>
      <p>
        Empowering businesses through cutting-edge technology and expert
        development
      </p>
      <a href="#contact" class="btn">Get Started Today</a>
    </section>

    <!-- Services Section Component -->
    <section class="container" id="services">
      <h2 class="section-title">Our Services</h2>
      <div class="services">
        <div class="service">
          <div class="feature-icon">üíª</div>
          <h3>Web Development</h3>
          <p>
            Custom websites and web applications tailored to your business
            needs.
          </p>
          <span class="badge badge-primary mt-2">Frontend</span>
          <span class="badge badge-info mt-2">Backend</span>
        </div>

        <div class="service">
          <div class="feature-icon">üì±</div>
          <h3>Mobile Development</h3>
          <p>
            Native and cross-platform mobile applications for iOS and Android.
          </p>
          <span class="badge badge-success mt-2">iOS</span>
          <span class="badge badge-success mt-2">Android</span>
        </div>

        <div class="service">
          <div class="feature-icon">üõ°Ô∏è</div>
          <h3>Cybersecurity</h3>
          <p>
            Comprehensive security audits and protection for your digital
            assets.
          </p>
          <span class="badge badge-danger mt-2">Security</span>
        </div>
      </div>
    </section>

    <!-- About Section with Cards -->
    <section class="container" id="about">
      <h2 class="section-title">About Us</h2>

      <div class="alert alert-info mb-4">
        <strong>Company Update!</strong> We've recently expanded our team to
        better serve our growing client base.
      </div>

      <div class="services">
        <div class="card">
          <img
            src="https://via.placeholder.com/400x200"
            alt="Our mission"
            class="card-img"
          />
          <div class="card-content">
            <h3 class="card-title">Our Mission</h3>
            <p>
              To deliver exceptional software solutions that drive business
              growth and innovation for our clients.
            </p>
          </div>
        </div>

        <div class="card">
          <img
            src="https://via.placeholder.com/400x200"
            alt="Our history"
            class="card-img"
          />
          <div class="card-content">
            <h3 class="card-title">Our History</h3>
            <p>
              Founded in 2020, we've grown from a small startup to a leading
              software development company in the region.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Team Section -->
    <section class="team-section" id="team">
      <div class="container">
        <h2 class="section-title">Meet Our Team</h2>
        <div class="services">
          <div class="team-member">
            <img src="https://via.placeholder.com/150" alt="CEO" />
            <h3>Jane Smith</h3>
            <p>CEO & Founder</p>
          </div>

          <div class="team-member">
            <img src="https://via.placeholder.com/150" alt="CTO" />
            <h3>John Davis</h3>
            <p>Chief Technology Officer</p>
          </div>

          <div class="team-member">
            <img src="https://via.placeholder.com/150" alt="Lead Developer" />
            <h3>Sarah Johnson</h3>
            <p>Lead Developer</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonials Section Component -->
    <section class="container" id="testimonials">
      <h2 class="section-title">What Our Clients Say</h2>
      <div class="testimonials">
        <blockquote>
          <p>
            "TechSolutions transformed our business with a custom web
            application that streamlined our processes and increased efficiency
            by 45%."
          </p>
          <cite>- Alex Chen, CEO of GrowthTech</cite>
        </blockquote>

        <blockquote>
          <p>
            "Their mobile app development team delivered our project ahead of
            schedule and exceeded all our expectations in terms of quality and
            user experience."
          </p>
          <cite>- Maria Rodriguez, Founder of FitLife App</cite>
        </blockquote>

        <blockquote>
          <p>
            "The cybersecurity audit they conducted revealed critical
            vulnerabilities that we were able to address before they could be
            exploited."
          </p>
          <cite>- Robert Jackson, CTO of SecureData</cite>
        </blockquote>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
      <div class="container">
        <h2>Ready to start your next project?</h2>
        <p class="mb-4">We're here to turn your ideas into digital reality</p>
        <a href="#contact" class="btn">Get in Touch</a>
      </div>
    </section>

    <!-- Gallery Section Component -->
    <section class="container" id="projects">
      <h2 class="section-title">Our Recent Projects</h2>
      <div class="gallery">
        <img
          src="https://via.placeholder.com/400x300"
          alt="E-commerce Platform"
        />
        <img src="https://via.placeholder.com/400x300" alt="Healthcare App" />
        <img
          src="https://via.placeholder.com/400x300"
          alt="Financial Dashboard"
        />
      </div>
    </section>

    <!-- Contact Form Component -->
    <section class="container" id="contact">
      <h2 class="section-title">Contact Us</h2>
      <form onsubmit="handleSubmit(event)">
        <input type="text" placeholder="Your Name" required />
        <input type="email" placeholder="Your Email" required />
        <select>
          <option value="" disabled selected>Select Service</option>
          <option value="web">Web Development</option>
          <option value="mobile">Mobile Development</option>
          <option value="security">Cybersecurity</option>
          <option value="other">Other Services</option>
        </select>
        <textarea
          rows="5"
          placeholder="Tell us about your project"
          required
        ></textarea>
        <button type="submit" class="btn">Send Message</button>
      </form>
    </section>

    <!-- Map Component -->
    <section class="container">
      <h2 class="section-title">Visit Our Office</h2>
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d41717.62171085608!2d17.039360000000002!3d51.1442944!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x470fe981183bfb0d%3A0x8940e9aef15b76a5!2sCentrum%20Handlowe%20Marino!5e1!3m2!1spl!2spl!4v1751278012114!5m2!1spl!2spl"
        height="400"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
      ></iframe>
    </section>

    <!-- Cal inline embed code begins -->
    <div class="cal-container" id="my-cal-inline"></div>
    <script type="text/javascript">
      (function (C, A, L) {
        let p = function (a, ar) {
          a.q.push(ar);
        };
        let d = C.document;
        C.Cal =
          C.Cal ||
          function () {
            let cal = C.Cal;
            let ar = arguments;
            if (!cal.loaded) {
              cal.ns = {};
              cal.q = cal.q || [];
              d.head.appendChild(d.createElement("script")).src = A;
              cal.loaded = true;
            }
            if (ar[0] === L) {
              const api = function () {
                p(api, arguments);
              };
              const namespace = ar[1];
              api.q = api.q || [];
              if (typeof namespace === "string") {
                cal.ns[namespace] = cal.ns[namespace] || api;
                p(cal.ns[namespace], ar);
                p(cal, ["initNamespace", namespace]);
              } else p(cal, ar);
              return;
            }
            p(cal, ar);
          };
      })(window, "https://app.cal.com/embed/embed.js", "init");
      Cal("init", "30min", { origin: "https://app.cal.com" });

      // Initialize with event listener to ensure Cal is fully loaded
      const calScript = document.querySelector(
        'script[src="https://app.cal.com/embed/embed.js"]'
      );
      if (calScript) {
        calScript.addEventListener("load", function () {
          // Initialize once Cal script is loaded
          initializeCalEmbed();
        });
      } else {
        // Fallback if script element not found
        setTimeout(initializeCalEmbed, 1000);
      }

      function initializeCalEmbed() {
        // Get current theme
        const currentTheme = document.body.classList.contains("light-mode")
          ? "light"
          : "dark";

        Cal.ns["30min"]("inline", {
          elementOrSelector: "#my-cal-inline",
          config: { layout: "month_view", theme: currentTheme },
          calLink: "freaxys/30min",
        });

        Cal.ns["30min"]("ui", {
          hideEventTypeDetails: false,
          layout: "month_view",
          theme: currentTheme,
        });
      }
    </script>
    <!-- Cal inline embed code ends -->

    <!-- Footer Component -->
    <footer>
      <div class="container">
        <div class="footer-grid">
          <div>
            <h3>TechSolutions Inc.</h3>
            <p class="mt-2">
              Innovative software solutions for modern businesses.
            </p>
          </div>
          <div>
            <h4>Quick Links</h4>
            <p><a href="#services">Services</a></p>
            <p><a href="#about">About Us</a></p>
            <p><a href="#contact">Contact</a></p>
          </div>
          <div>
            <h4>Contact</h4>
            <p>123 Tech Street</p>
            <p>New York, NY 10001</p>
            <p>info@techsolutions.com</p>
            <p>(555) 123-4567</p>
          </div>
        </div>
        <div class="footer-divider">
          <p>&copy; 2025 TechSolutions Inc. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <!-- Toggle Theme Button -->
    <div class="theme-toggle">
      <button onclick="toggleTheme()" class="btn theme-toggle-button">
        <span id="themeIcon">üåô</span>
      </button>
    </div>

    <!-- Back To Top Button -->
    <div class="back-to-top" onclick="scrollToTop()">‚Üë</div>

    <script>
      // Set default light mode on page load
      document.addEventListener("DOMContentLoaded", function () {
        document.body.classList.add("light-mode");
        updateThemeIcon();

        // Setup intersection observer for section highlighting
        setupSectionObserver();

        // Setup smooth scrolling for all anchor links
        setupSmoothScrolling();
      });

      function handleSubmit(event) {
        event.preventDefault();
        alert("Thank you for your message! We'll get back to you shortly.");
        event.target.reset();
      }

      function toggleTheme() {
        // Toggle between light and dark mode
        if (document.body.classList.contains("light-mode")) {
          document.body.classList.remove("light-mode");
          document.body.classList.add("dark-mode");
          // Update Cal.com embed theme to dark
          updateCalTheme("dark");
        } else {
          document.body.classList.remove("dark-mode");
          document.body.classList.add("light-mode");
          // Update Cal.com embed theme to light
          updateCalTheme("light");
        }
        updateThemeIcon();
      }

      // Function to update Cal.com embed theme
      function updateCalTheme(theme) {
        // Only update if Cal.ns is available
        if (window.Cal && window.Cal.ns && window.Cal.ns["30min"]) {
          // First, clear the existing Cal embed to force a complete refresh
          const calContainer = document.getElementById("my-cal-inline");
          calContainer.innerHTML = "";

          // Short timeout to ensure DOM is updated before reinitializing
          setTimeout(() => {
            // Reinitialize the Cal embed with the new theme
            Cal.ns["30min"]("inline", {
              elementOrSelector: "#my-cal-inline",
              config: { layout: "month_view", theme: theme },
              calLink: "freaxys/30min",
            });

            // Force a UI refresh with the new theme
            Cal.ns["30min"]("ui", {
              hideEventTypeDetails: false,
              layout: "month_view",
              theme: theme,
            });
          }, 50);
        }
      }

      function updateThemeIcon() {
        const themeIcon = document.getElementById("themeIcon");
        if (document.body.classList.contains("light-mode")) {
          themeIcon.textContent = "üåô"; // Moon icon for switching to dark
        } else {
          themeIcon.textContent = "üåû"; // Sun icon for switching to light
        }
      }

      // Setup smooth scrolling with offset for header
      function setupSmoothScrolling() {
        const navLinks = document.querySelectorAll("nav a");

        navLinks.forEach((link) => {
          link.addEventListener("click", function (e) {
            // Get target section ID from href
            const targetId = this.getAttribute("href").substring(1);
            const targetSection = document.getElementById(targetId);

            if (targetSection) {
              // Remove active class from all links
              navLinks.forEach((link) => link.classList.remove("active"));

              // Add active class to clicked link
              this.classList.add("active");

              // Trigger a scroll to the section with a slight delay to ensure smooth behavior
              setTimeout(() => {
                // This ensures the scroll-padding-top is respected
                const offset = 80; // Match the scroll-padding-top value
                const targetPosition =
                  targetSection.getBoundingClientRect().top +
                  window.pageYOffset -
                  offset;

                window.scrollTo({
                  top: targetPosition,
                  behavior: "smooth",
                });
              }, 10);
            }
          });
        });
      }

      // Scroll Progress Indicator
      window.addEventListener("scroll", () => {
        const scrollProgress = document.querySelector(".scroll-progress");
        const totalHeight = document.body.scrollHeight - window.innerHeight;
        const progress = (window.pageYOffset / totalHeight) * 100;
        scrollProgress.style.width = progress + "%";

        // Back to top button visibility
        const backToTopButton = document.querySelector(".back-to-top");
        if (window.pageYOffset > 300) {
          backToTopButton.classList.add("show");
        } else {
          backToTopButton.classList.remove("show");
        }
      });

      // Scroll to top function
      function scrollToTop() {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });

        // After scrolling to top, ensure no navigation links are active
        setTimeout(() => {
          const navLinks = document.querySelectorAll("nav a");
          navLinks.forEach((link) => link.classList.remove("active"));

          // Update URL without hash
          if (history.replaceState) {
            history.replaceState(null, null, " ");
          }
        }, 500); // Small delay to let the scroll happen
      }
    </script>
  </body>
</html>
